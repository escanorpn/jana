{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport _classCallCheck from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\src\\\\larsen\\\\geo.jsx\";\nimport React from \"react\";\nimport { MDBIcon, MDBCard, MDBCardBody, MDBCol, MDBRow } from \"mdbreact\";\nimport { Redirect } from 'react-router';\nimport ReactMapGL, { Marker, NavigationControl } from 'react-map-gl';\nimport { Link } from \"react-router-dom\"; // const { MonthPicker, RangePicker } = DatePicker;\n\nvar axios = require('axios');\n\nvar Geo1 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Geo1, _React$Component);\n\n  function Geo1() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Geo1);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Geo1)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      url: \"http://localhost/nw/kq/api1.php?apicall=\",\n      // url:\"http://192.168.43.87/nw/kq/api.php?apicall=\",\n      confirmDirty: false,\n      autoCompleteResult: [],\n      redirect: false,\n      mDisplay: \"none\",\n      required: true,\n      mrp: \"none\",\n      lat: 0,\n      long: 0,\n      lButton: \" Obtain location\",\n      mrp1: \"block\",\n      geo_options: {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: 10000\n      },\n      viewport: {\n        width: 400,\n        height: 400,\n        latitude: 1.255833599,\n        longitude: 36.8566272,\n        zoom: 8\n      },\n      userLocation: {}\n    };\n\n    _this.db = function () {\n      axios({\n        method: 'post',\n        url: _this.state.url + 'geo',\n        data: \"lat=\" + _this.state.lat + \"&long=\" + _this.state.long,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        if (response.data.error) {\n          console.log(\"error \" + response.data.message);\n        } else {\n          _this.setState({\n            redirect: true\n          });\n\n          console.log(\"success \" + response.data.message);\n        }\n      }).catch(function (response) {\n        //handle error\n        console.log(\"error\" + response);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, fieldsValue) {\n        if (err) {\n          return;\n        }\n\n        var values = {\n          fieldsValue: fieldsValue\n        };\n\n        _this.db();\n      });\n    };\n\n    _this.compareToFirstPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('Two passwords that you enter is inconsistent!');\n      } else {\n        callback();\n      }\n    };\n\n    _this.validateToNextPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && _this.state.confirmDirty) {\n        form.validateFields(['confirm'], {\n          force: true\n        });\n      }\n\n      callback();\n    };\n\n    _this.setUserLocation = function () {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        var setUserLocation = {\n          lat: position.coords.latitude,\n          long: position.coords.longitude\n        };\n        var newViewport = {\n          height: 400,\n          width: 400,\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          zoom: 17\n        };\n\n        _this.setState({\n          viewport: newViewport,\n          userLocation: setUserLocation,\n          mDisplay: \"block\",\n          lButton: \"location obtained\",\n          lat: position.coords.latitude,\n          long: position.coords.longitude,\n          required: false\n        });\n      });\n    };\n\n    _this.getLocation = function () {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(_this.showPosition, _this.showError, _this.state.geo_options);\n      } else {\n        _message.error(\"Geolocation is not supported by this browser.\");\n      }\n    };\n\n    _this.showPosition = function (position) {\n      _this.setUserLocation();\n    };\n\n    _this.showError = function (error) {\n      _message.config({\n        top: 100,\n        duration: 2.5,\n        maxCount: 3\n      });\n\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          _message.error(\"User denied the request for Geolocation.\");\n\n          break;\n\n        case error.POSITION_UNAVAILABLE:\n          _message.error(\"Location information is unavailable.\");\n\n          break;\n\n        case error.TIMEOUT:\n          _message.error(\"The request to get user location timed out.\");\n\n          break;\n\n        case error.UNKNOWN_ERROR:\n          _message.error(\"An unknown error occurred.\");\n\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Geo1, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window.orientation !== 'undefined') {\n        _message.config({\n          top: 100,\n          duration: 5,\n          maxCount: 3\n        });\n\n        _message.success(\"Go oust side for high acuracy\");\n\n        this.setState({\n          mrp: \"block\",\n          mrp1: \"none\"\n        });\n      } else {\n        _message.config({\n          top: 100,\n          duration: 5,\n          maxCount: 3\n        });\n\n        _message.error(\"Use a mobile device for high acuracy\");\n\n        this.setState({\n          mrp: \"none\",\n          mrp1: \"block\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      //const { getFieldDecorator } = this.props.form;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var redirect = this.state.redirect;\n      var formItemLayout = {\n        labelCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 8\n          }\n        },\n        wrapperCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          }\n        }\n      };\n\n      if (redirect) {\n        return React.createElement(Redirect, {\n          to: \"/shop\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          width: \"95%\",\n          height: \"100%\",\n          maxWidth: \"1000px\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        color: \"white lighten-1\",\n        style: {\n          height: \"100%\"\n        },\n        text: \"black\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        color: \"white\",\n        text: \"black\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(_Breadcrumb, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(_Breadcrumb.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"user-circle\",\n        className: \"cyan-text \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/pi\",\n        className: \"text-justify\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"\\xA0Profile\\xA0\")), React.createElement(_Breadcrumb.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"warehouse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/geo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"\\xA0Shop\"))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          display: this.state.mrp\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-quote-left \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), \"\\xA0Here you will register your shop.You can register as many shops as you desire.\\xA0\", React.createElement(\"i\", {\n        class: \"fas fa-quote-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        style: {\n          display: this.state.mDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(ReactMapGL, Object.assign({}, this.state.viewport, {\n        onViewportChange: function onViewportChange(viewport) {\n          return _this2.setState({\n            viewport: viewport\n          });\n        },\n        mapboxApiAccessToken: \"pk.eyJ1IjoicGVuam8iLCJhIjoiY2sxdTJta3A3MDVnYjNuczJueGpjMmpsdiJ9.h4n8WU8Dy0XC3I9NRF02Bw\" // mapStyle='mapbox://styles/mapbox/satellite-streets-v9'\n        ,\n        mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n        pitch: \"60\" // bearing=\"90\"\n        ,\n        width: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), Object.keys(this.state.userLocation).length !== 0 ? React.createElement(Marker, {\n        latitude: this.state.userLocation.lat,\n        longitude: this.state.userLocation.long,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"map-marker-alt\",\n        className: \"fas fa-map-marker-alt fa-3x red-text pr-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(NavigationControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"12\",\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        color: \"white\",\n        text: \"black\",\n        className: \"text-center\",\n        style: {\n          maxWidth: \"\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(_Form, Object.assign({}, formItemLayout, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(_Form.Item, {\n        label: \"Shop name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, getFieldDecorator('fname', {\n        rules: [{\n          required: true,\n          message: 'Please input the name of your shop',\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        style: {\n          with: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      })))), React.createElement(MDBCol, {\n        md: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        icon: \"environment\",\n        onClick: this.getLocation,\n        style: {\n          paddingRigtht: \"22px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, this.state.lButton, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }), React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, getFieldDecorator('location', {\n        rules: [{\n          required: this.state.required,\n          message: 'Click the button to obtain the shop location',\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        value: \"mysite\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      })), React.createElement(_Form.Item, {\n        style: {\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"Submit\"))))))))), React.createElement(\"div\", {\n        style: {\n          display: this.state.mrp1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-quote-left \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }), \"\\xA0You need to use a mobile device to obtain an accurate location of the store.\\xA0\", React.createElement(\"i\", {\n        class: \"fas fa-quote-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      })))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Geo1;\n}(React.Component);\n\nvar Geo = _Form.create({\n  name: 'time_related_controls'\n})(Geo1);\n\nexport default Geo;","map":{"version":3,"sources":["T:\\msi\\proj\\react\\workspace\\f\\Internal_ibl_w\\src\\larsen\\geo.jsx"],"names":["React","MDBIcon","MDBCard","MDBCardBody","MDBCol","MDBRow","Redirect","ReactMapGL","Marker","NavigationControl","Link","axios","require","Geo1","state","url","confirmDirty","autoCompleteResult","redirect","mDisplay","required","mrp","lat","long","lButton","mrp1","geo_options","enableHighAccuracy","maximumAge","timeout","viewport","width","height","latitude","longitude","zoom","userLocation","db","method","data","config","headers","then","response","error","console","log","message","setState","catch","handleSubmit","e","preventDefault","props","form","validateFields","err","fieldsValue","values","compareToFirstPassword","rule","value","callback","getFieldValue","validateToNextPassword","force","setUserLocation","navigator","geolocation","getCurrentPosition","position","coords","newViewport","getLocation","showPosition","showError","top","duration","maxCount","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","window","orientation","success","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","maxWidth","marginLeft","marginRight","display","Object","keys","length","right","rules","whitespace","with","paddingRigtht","Component","Geo","create","name"],"mappings":"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","sourcesContent":["\r\n        \r\nimport React from \"react\";\r\nimport { Form, Input, Button,Breadcrumb,message} from 'antd';\r\nimport { MDBIcon,MDBCard, MDBCardBody, MDBCol, MDBRow} from \"mdbreact\";\r\nimport { Redirect } from 'react-router';\r\nimport ReactMapGL,{Marker,NavigationControl} from 'react-map-gl';\r\nimport {Link } from \"react-router-dom\";\r\n\r\n\r\n// const { MonthPicker, RangePicker } = DatePicker;\r\nconst axios = require('axios');\r\n\r\n\r\nclass Geo1 extends React.Component {\r\n    state = {\r\n      url:\"http://localhost/nw/kq/api1.php?apicall=\",\r\n      // url:\"http://192.168.43.87/nw/kq/api.php?apicall=\",\r\n      confirmDirty: false,\r\n      autoCompleteResult: [],\r\n      redirect: false,\r\n      mDisplay:\"none\",\r\n      required:true,\r\n      mrp:\"none\",\r\n      lat:0,\r\n      long:0,\r\n      lButton:\" Obtain location\",\r\n      mrp1:\"block\",\r\n       geo_options : {\r\n        enableHighAccuracy: true, \r\n        maximumAge        : 0, \r\n        timeout           : 10000\r\n      },\r\n      viewport: {\r\n        width: 400,\r\n        height: 400,\r\n        latitude: 1.255833599,\r\n        longitude: 36.8566272,\r\n        zoom: 8\r\n      },\r\n      userLocation:{}\r\n    };\r\n  componentDidMount(){\r\n    if (typeof window.orientation !== 'undefined') { \r\n      message.config({\r\n        top: 100,\r\n        duration: 5,\r\n        maxCount: 3,\r\n      });\r\n      message.success(\"Go oust side for high acuracy\")\r\n      this.setState({\r\n        mrp:\"block\",\r\n        mrp1:\"none\"\r\n      })\r\n\r\n     }else{\r\n      message.config({\r\n        top: 100,\r\n        duration: 5,\r\n        maxCount: 3,\r\n      });\r\n       message.error(\"Use a mobile device for high acuracy\")\r\n       this.setState({\r\n         mrp:\"none\",\r\n         mrp1:\"block\"\r\n       })\r\n     }\r\n  }\r\n   db=()=>{\r\n\r\n    axios({\r\n      method: 'post',\r\n    \r\n      url: this.state.url+'geo',\r\n      data: \"lat=\"+this.state.lat+\"&long=\"+this.state.long,\r\n      config: { headers: {'Content-Type': 'multipart/form-data' }}\r\n  })\r\n  .then((response) => {\r\n\r\n    if(response.data.error){\r\n      console.log(\"error \"+response.data.message);\r\n      }else{\r\n        this.setState({\r\n          redirect: true\r\n       });\r\n      \r\n      console.log(\"success \"+response.data.message);\r\n      }\r\n\r\n  })\r\n  .catch(function (response) {\r\n      //handle error\r\n      console.log(\"error\"+response)\r\n  });\r\n   }\r\n    handleSubmit = e => {\r\n      e.preventDefault();\r\n      this.props.form.validateFields((err, fieldsValue) => {\r\n        if (err) {\r\n          return;\r\n        }\r\n        const values = {\r\n          fieldsValue\r\n        };\r\n     this.db();\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n    compareToFirstPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && value !== form.getFieldValue('password')) {\r\n        callback('Two passwords that you enter is inconsistent!');\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n  \r\n    validateToNextPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && this.state.confirmDirty) {\r\n        form.validateFields(['confirm'], { force: true });\r\n      }\r\n      callback();\r\n    };\r\n   \r\n      setUserLocation = () => {\r\n\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            let setUserLocation = {\r\n                lat: position.coords.latitude,\r\n                long: position.coords.longitude\r\n             };\r\n            let newViewport = {\r\n                height: 400,\r\n                width: 400,\r\n                latitude: position.coords.latitude,\r\n                longitude: position.coords.longitude,\r\n                zoom: 17\r\n            }\r\n            \r\n            this.setState({\r\n                viewport: newViewport,\r\n                userLocation:setUserLocation,\r\n                mDisplay:\"block\",\r\n                lButton:\"location obtained\",\r\n                lat:position.coords.latitude,\r\n                long:position.coords.longitude,\r\n                required:false\r\n            })\r\n            \r\n        })\r\n    };\r\n    \r\n     getLocation=()=> {\r\n   \r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(this.showPosition, this.showError,this.state.geo_options);\r\n        \r\n      } else { \r\n       message.error(\"Geolocation is not supported by this browser.\") ;\r\n      }\r\n    }\r\n    \r\n     showPosition=(position)=> {\r\n       this.setUserLocation();\r\n    }\r\n    \r\n     showError=(error)=> {\r\n      message.config({\r\n        top: 100,\r\n        duration: 2.5,\r\n        maxCount: 3,\r\n      });\r\n      switch(error.code) {\r\n        case error.PERMISSION_DENIED:\r\n          message.error( \"User denied the request for Geolocation.\");\r\n          break;\r\n        case error.POSITION_UNAVAILABLE:\r\n          message.error( \"Location information is unavailable.\");\r\n          break;\r\n        case error.TIMEOUT:\r\n          message.error( \"The request to get user location timed out.\");\r\n          break;\r\n        case error.UNKNOWN_ERROR:\r\n          message.error( \"An unknown error occurred.\");\r\n          break;\r\n      }\r\n\r\n\r\n       \r\n    }\r\nrender() {\r\n  \r\n  //const { getFieldDecorator } = this.props.form;\r\n  const { getFieldDecorator,  } = this.props.form;\r\n\r\n  const { redirect  } = this.state;\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n \r\n  if (redirect) {\r\n    return <Redirect to='/shop'/>;\r\n  }\r\n  return (\r\n<div style={{width:\"95%\",height:\"100%\",maxWidth:\"1000px\",marginLeft:\"auto\",marginRight:\"auto\",}}>\r\n\r\n<MDBCard color=\"white lighten-1\" style={{height:\"100%\"}} text=\"black\" className=\"text-center\">\r\n  <MDBCardBody>\r\n      \r\n<MDBCard color=\"white\" text=\"black\" className=\"text-center\" >\r\n      <MDBCardBody>\r\n    <Breadcrumb>\r\n      <Breadcrumb.Item >\r\n      <MDBIcon icon=\"user-circle\" className=\"cyan-text \"/>\r\n        <Link to=\"/pi\" className=\"text-justify\">&nbsp;Profile&nbsp;</Link>\r\n      </Breadcrumb.Item>\r\n\r\n      <Breadcrumb.Item >\r\n      <MDBIcon icon=\"warehouse\" />\r\n        <Link to=\"/geo\">&nbsp;Shop</Link>\r\n      </Breadcrumb.Item>\r\n  </Breadcrumb>\r\n  </MDBCardBody>\r\n  </MDBCard>\r\n  <br/>\r\n  <div style={{display:this.state.mrp}}>\r\n      <MDBCard><MDBCardBody>\r\n      <i class=\"fas fa-quote-left \" ></i>&nbsp;Here you will register your shop.You can register as many shops as you desire.&nbsp;<i class=\"fas fa-quote-right\"></i>\r\n      </MDBCardBody></MDBCard>\r\n    </div>\r\n<div >\r\n  <MDBCard style={{display:this.state.mDisplay}}>\r\n    <MDBCardBody>\r\n\r\n      <ReactMapGL\r\n        {...this.state.viewport}\r\n        onViewportChange={(viewport) => this.setState({viewport})}\r\n        mapboxApiAccessToken=\"pk.eyJ1IjoicGVuam8iLCJhIjoiY2sxdTJta3A3MDVnYjNuczJueGpjMmpsdiJ9.h4n8WU8Dy0XC3I9NRF02Bw\"\r\n        // mapStyle='mapbox://styles/mapbox/satellite-streets-v9'\r\n        mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n        pitch=\"60\"\r\n        // bearing=\"90\"\r\n        width=\"100%\"\r\n        \r\n      >\r\n                {Object.keys(this.state.userLocation).length !== 0 ? (\r\n                   \r\n                <Marker\r\n                    latitude={this.state.userLocation.lat}\r\n                    longitude={this.state.userLocation.long}\r\n                >\r\n                    <div>\r\n                    <MDBIcon icon=\"map-marker-alt\" className=\"fas fa-map-marker-alt fa-3x red-text pr-3\" />\r\n                  \r\n                    </div>\r\n                </Marker>\r\n                ) : ( \r\n                <div></div>\r\n                )}\r\n        <div style={{position: 'absolute', right: 0}}>\r\n          <NavigationControl />\r\n        </div>\r\n    </ReactMapGL>\r\n\r\n    </MDBCardBody></MDBCard>\r\n    <br /> \r\n    <MDBRow >\r\n  \r\n  <MDBCol md=\"12\" className=\"mb-4\">\r\n    <MDBCard color=\"white\" text=\"black\" className=\"text-center\" style={{maxWidth:\"\"}}>\r\n      <MDBCardBody>\r\n        <Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n\r\n          <MDBRow >\r\n<MDBCol md=\"5\">\r\n  \r\n          <Form.Item label={\"Shop name\"\r\n        }>{getFieldDecorator('fname', {\r\n          rules: [{ required: true, message: 'Please input the name of your shop', whitespace: true }],\r\n        })(<Input style={{with:\"50%\"}}/>)}\r\n        </Form.Item>\r\n\r\n</MDBCol> \r\n<MDBCol md=\"7\">   \r\n<Button\r\n                type=\"primary\"\r\n                icon=\"environment\"\r\n                onClick={this.getLocation}\r\n                style={{paddingRigtht:\"22px\"}}\r\n            >\r\n               {this.state.lButton}\r\n                <br/>\r\n              </Button>\r\n<br/>\r\n        <Form.Item \r\n        >{getFieldDecorator('location', {\r\n          rules: [{ required:this.state.required, message: 'Click the button to obtain the shop location', whitespace: true }],\r\n        })(<Input value=\"mysite\" style={{display:\"none\"}}/>)}\r\n        </Form.Item>\r\n<br /> \r\n</MDBCol>  \r\n      <Form.Item\r\n      style={{marginLeft:\"auto\",marginRight:\"auto\"}}\r\n      >\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item> \r\n      </MDBRow>\r\n    </Form>\r\n    </MDBCardBody>\r\n        </MDBCard>\r\n      </MDBCol>\r\n    </MDBRow>\r\n    </div>\r\n    <div style={{display:this.state.mrp1}}>\r\n      <MDBCard><MDBCardBody>\r\n      <i class=\"fas fa-quote-left \" ></i>&nbsp;You need to use a mobile device to obtain an accurate location of the store.&nbsp;<i class=\"fas fa-quote-right\"></i>\r\n      </MDBCardBody></MDBCard>\r\n    </div>\r\n  </MDBCardBody>\r\n </MDBCard>\r\n\r\n<br />\r\n</div>\r\n       );\r\n            }}\r\n\r\nconst Geo = Form.create({ name: 'time_related_controls' })(Geo1);\r\nexport default Geo;"]},"metadata":{},"sourceType":"module"}