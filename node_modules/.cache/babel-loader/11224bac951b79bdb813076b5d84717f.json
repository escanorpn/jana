{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport _classCallCheck from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"T:\\\\msi\\\\proj\\\\react\\\\workspace\\\\f\\\\Internal_ibl_w\\\\src\\\\larsen\\\\geo.jsx\";\nimport React from \"react\";\nimport { MDBIcon, MDBCard, MDBCardBody, MDBCol, MDBRow } from \"mdbreact\";\nimport { Redirect } from 'react-router';\nimport ReactMapGL, { Marker, NavigationControl } from 'react-map-gl';\nimport { Link } from \"react-router-dom\"; // const { MonthPicker, RangePicker } = DatePicker;\n\nvar axios = require('axios');\n\nvar Geo1 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Geo1, _React$Component);\n\n  function Geo1() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Geo1);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Geo1)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      confirmDirty: false,\n      autoCompleteResult: [],\n      redirect: false,\n      mDisplay: \"none\",\n      required: true,\n      geo_options: {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: 10000\n      },\n      viewport: {\n        width: 400,\n        height: 400,\n        latitude: 1.255833599,\n        longitude: 36.8566272,\n        zoom: 8\n      },\n      userLocation: {}\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, fieldsValue) {\n        if (err) {\n          return;\n        }\n\n        var values = {\n          fieldsValue: fieldsValue\n        };\n        console.log('Received values of form: ', values);\n        axios({\n          method: 'post',\n          // url: 'http://localhost/nw/vap/regApi.php?apicall=signup'\n          // url: 'http://localhost/nw/kq/api.php?apicall=signup',\n          url: 'http://192.168.43.87/d/php/api.php?apicall=signup',\n          data: values,\n          config: {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          }\n        }).then(function (response) {\n          if (response.data.error) {\n            console.log(\"error \" + response.data.message);\n          } else {\n            _this.setState({\n              redirect: true\n            });\n\n            console.log(\"success \" + response.data.message);\n          }\n        }).catch(function (response) {\n          //handle error\n          console.log(\"error\" + response);\n        });\n      });\n    };\n\n    _this.compareToFirstPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('Two passwords that you enter is inconsistent!');\n      } else {\n        callback();\n      }\n    };\n\n    _this.validateToNextPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && _this.state.confirmDirty) {\n        form.validateFields(['confirm'], {\n          force: true\n        });\n      }\n\n      callback();\n    };\n\n    _this.setUserLocation = function () {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        var setUserLocation = {\n          lat: position.coords.latitude,\n          long: position.coords.longitude\n        };\n        console.log(\"lat=\" + position.coords.latitude + \"\" + position.coords.longitude);\n        var newViewport = {\n          height: 400,\n          width: 400,\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          zoom: 17\n        };\n        console.log(\"lat=\" + _this.latitude);\n\n        _this.setState({\n          viewport: newViewport,\n          userLocation: setUserLocation,\n          mDisplay: \"block\",\n          required: false\n        });\n      });\n    };\n\n    _this.getLocation = function () {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(_this.showPosition, _this.showError, _this.state.geo_options);\n      } else {\n        console.log(\"Geolocation is not supported by this browser.\");\n      }\n    };\n\n    _this.showPosition = function (position) {\n      console.log(\"Latitude: \" + position.coords.latitude + \"<br>Longitude: \" + position.coords.longitude);\n    };\n\n    _this.showError = function (error) {\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          console.log(\"User denied the request for Geolocation.\");\n          break;\n\n        case error.POSITION_UNAVAILABLE:\n          console.log(\"Location information is unavailable.\");\n          break;\n\n        case error.TIMEOUT:\n          console.log(\"The request to get user location timed out.\");\n          break;\n\n        case error.UNKNOWN_ERROR:\n          console.log(\"An unknown error occurred.\");\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Geo1, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      //const { getFieldDecorator } = this.props.form;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var redirect = this.state.redirect;\n      var formItemLayout = {\n        labelCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 8\n          }\n        },\n        wrapperCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          }\n        }\n      };\n\n      if (redirect) {\n        return React.createElement(Redirect, {\n          to: \"/shop\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          width: \"95%\",\n          maxWidth: \"1000px\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        color: \"white lighten-1\",\n        text: \"black\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        color: \"white\",\n        text: \"black\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(_Breadcrumb, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(_Breadcrumb.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"user-circle\",\n        className: \"cyan-text \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/pi\",\n        className: \"text-justify\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"\\xA0Profile\\xA0\")), React.createElement(_Breadcrumb.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"warehouse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/geo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"\\xA0Shop\"))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(MDBCard, {\n        style: {\n          display: this.state.mDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(ReactMapGL, Object.assign({}, this.state.viewport, {\n        onViewportChange: function onViewportChange(viewport) {\n          return _this2.setState({\n            viewport: viewport\n          });\n        },\n        mapboxApiAccessToken: \"pk.eyJ1IjoicGVuam8iLCJhIjoiY2sxdTJta3A3MDVnYjNuczJueGpjMmpsdiJ9.h4n8WU8Dy0XC3I9NRF02Bw\" // mapStyle='mapbox://styles/mapbox/satellite-streets-v9'\n        ,\n        mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n        pitch: \"60\" // bearing=\"90\"\n        ,\n        width: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), Object.keys(this.state.userLocation).length !== 0 ? React.createElement(Marker, {\n        latitude: this.state.userLocation.lat,\n        longitude: this.state.userLocation.long,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"map-marker-alt\",\n        className: \"fas fa-map-marker-alt fa-3x red-text pr-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(NavigationControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"12\",\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        color: \"white\",\n        text: \"black\",\n        className: \"text-center\",\n        style: {\n          maxWidth: \"\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(_Form, Object.assign({}, formItemLayout, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(_Form.Item, {\n        label: \"Shop name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, getFieldDecorator('fname', {\n        rules: [{\n          required: true,\n          message: 'Please input the name of your shop',\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      })))), React.createElement(MDBCol, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(_Form.Item, {\n        label: React.createElement(_Button, {\n          type: \"primary\",\n          icon: \"environment\",\n          onClick: this.getLocation,\n          style: {\n            paddingRigtht: \"22px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, \"Obtain location\", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, getFieldDecorator('location', {\n        rules: [{\n          required: this.state.required,\n          message: 'Click the button to obtain the shop location',\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        value: \"mysite\",\n        style: {\n          display: \"gone\",\n          width: \"2px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      })), React.createElement(_Form.Item, {\n        style: {\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Submit\")))))))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Geo1;\n}(React.Component);\n\nvar Geo = _Form.create({\n  name: 'time_related_controls'\n})(Geo1);\n\nexport default Geo;","map":{"version":3,"sources":["T:\\msi\\proj\\react\\workspace\\f\\Internal_ibl_w\\src\\larsen\\geo.jsx"],"names":["React","MDBIcon","MDBCard","MDBCardBody","MDBCol","MDBRow","Redirect","ReactMapGL","Marker","NavigationControl","Link","axios","require","Geo1","state","confirmDirty","autoCompleteResult","redirect","mDisplay","required","geo_options","enableHighAccuracy","maximumAge","timeout","viewport","width","height","latitude","longitude","zoom","userLocation","handleSubmit","e","preventDefault","props","form","validateFields","err","fieldsValue","values","console","log","method","url","data","config","headers","then","response","error","message","setState","catch","compareToFirstPassword","rule","value","callback","getFieldValue","validateToNextPassword","force","setUserLocation","navigator","geolocation","getCurrentPosition","position","lat","coords","long","newViewport","getLocation","showPosition","showError","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","maxWidth","marginLeft","marginRight","display","Object","keys","length","right","rules","whitespace","paddingRigtht","Component","Geo","create","name"],"mappings":"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","sourcesContent":["\r\n        \r\nimport React from \"react\";\r\nimport { Form, Input, Button,Icon,Tooltip,Breadcrumb} from 'antd';\r\nimport { MDBIcon,MDBCard, MDBCardBody, MDBCol, MDBRow} from \"mdbreact\";\r\nimport { Redirect } from 'react-router';\r\nimport ReactMapGL,{Marker,NavigationControl} from 'react-map-gl';\r\nimport {Link } from \"react-router-dom\";\r\n\r\n\r\n// const { MonthPicker, RangePicker } = DatePicker;\r\nconst axios = require('axios');\r\n\r\n\r\nclass Geo1 extends React.Component {\r\n    state = {\r\n      confirmDirty: false,\r\n      autoCompleteResult: [],\r\n      redirect: false,\r\n      mDisplay:\"none\",\r\n      required:true,\r\n       geo_options : {\r\n        enableHighAccuracy: true, \r\n        maximumAge        : 0, \r\n        timeout           : 10000\r\n      },\r\n      viewport: {\r\n        width: 400,\r\n        height: 400,\r\n        latitude: 1.255833599,\r\n        longitude: 36.8566272,\r\n        zoom: 8\r\n      },\r\n      userLocation:{}\r\n    };\r\n  \r\n   \r\n    handleSubmit = e => {\r\n      e.preventDefault();\r\n  \r\n      this.props.form.validateFields((err, fieldsValue) => {\r\n        if (err) {\r\n          return;\r\n        }\r\n        const values = {\r\n          fieldsValue\r\n        };\r\n        console.log('Received values of form: ', values);\r\n        axios({\r\n          method: 'post',\r\n          // url: 'http://localhost/nw/vap/regApi.php?apicall=signup'\r\n          // url: 'http://localhost/nw/kq/api.php?apicall=signup',\r\n          url: 'http://192.168.43.87/d/php/api.php?apicall=signup',\r\n          data: values,\r\n          config: { headers: {'Content-Type': 'multipart/form-data' }}\r\n      })\r\n      .then((response) => {\r\n\r\n        if(response.data.error){\r\n          console.log(\"error \"+response.data.message);\r\n          }else{\r\n            this.setState({\r\n              redirect: true\r\n           });\r\n          \r\n          console.log(\"success \"+response.data.message);\r\n          }\r\n\r\n      })\r\n      .catch(function (response) {\r\n          //handle error\r\n          console.log(\"error\"+response)\r\n      });\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n    compareToFirstPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && value !== form.getFieldValue('password')) {\r\n        callback('Two passwords that you enter is inconsistent!');\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n  \r\n    validateToNextPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && this.state.confirmDirty) {\r\n        form.validateFields(['confirm'], { force: true });\r\n      }\r\n      callback();\r\n    };\r\n   \r\n      setUserLocation = () => {\r\n\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            let setUserLocation = {\r\n                lat: position.coords.latitude,\r\n                long: position.coords.longitude\r\n             };\r\n            console.log(\"lat=\"+position.coords.latitude+\"\"+position.coords.longitude);\r\n            let newViewport = {\r\n                height: 400,\r\n                width: 400,\r\n                latitude: position.coords.latitude,\r\n                longitude: position.coords.longitude,\r\n                zoom: 17\r\n            }\r\n            console.log(\"lat=\"+this.latitude);\r\n            this.setState({\r\n                viewport: newViewport,\r\n                userLocation:setUserLocation,\r\n                mDisplay:\"block\",\r\n                required:false\r\n            })\r\n        })\r\n    };\r\n    \r\n     getLocation=()=> {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(this.showPosition, this.showError,this.state.geo_options);\r\n      } else { \r\n        console.log(\"Geolocation is not supported by this browser.\") ;\r\n      }\r\n    }\r\n    \r\n     showPosition=(position)=> {\r\n      console.log(\"Latitude: \" + position.coords.latitude + \r\n      \"<br>Longitude: \" + position.coords.longitude);\r\n    }\r\n    \r\n     showError=(error)=> {\r\n      switch(error.code) {\r\n        case error.PERMISSION_DENIED:\r\n          console.log( \"User denied the request for Geolocation.\");\r\n          break;\r\n        case error.POSITION_UNAVAILABLE:\r\n          console.log( \"Location information is unavailable.\");\r\n          break;\r\n        case error.TIMEOUT:\r\n          console.log( \"The request to get user location timed out.\");\r\n          break;\r\n        case error.UNKNOWN_ERROR:\r\n          console.log( \"An unknown error occurred.\");\r\n          break;\r\n      }\r\n    }\r\nrender() {\r\n  \r\n  //const { getFieldDecorator } = this.props.form;\r\n  const { getFieldDecorator,  } = this.props.form;\r\n\r\n  const { redirect  } = this.state;\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n \r\n  if (redirect) {\r\n    return <Redirect to='/shop'/>;\r\n  }\r\n  return (\r\n<div style={{width:\"95%\",maxWidth:\"1000px\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n\r\n\r\n<MDBCard color=\"white lighten-1\" text=\"black\" className=\"text-center\">\r\n  <MDBCardBody>\r\n      \r\n<MDBCard color=\"white\" text=\"black\" className=\"text-center\" >\r\n      <MDBCardBody>\r\n    <Breadcrumb>\r\n      <Breadcrumb.Item >\r\n      <MDBIcon icon=\"user-circle\" className=\"cyan-text \"/>\r\n        <Link to=\"/pi\" className=\"text-justify\">&nbsp;Profile&nbsp;</Link>\r\n      </Breadcrumb.Item>\r\n\r\n      <Breadcrumb.Item >\r\n      <MDBIcon icon=\"warehouse\" />\r\n        <Link to=\"/geo\">&nbsp;Shop</Link>\r\n      </Breadcrumb.Item>\r\n  </Breadcrumb>\r\n  </MDBCardBody>\r\n  </MDBCard>\r\n  <br/>\r\n\r\n  <MDBCard style={{display:this.state.mDisplay}}>\r\n    <MDBCardBody>\r\n\r\n      <ReactMapGL\r\n        {...this.state.viewport}\r\n        onViewportChange={(viewport) => this.setState({viewport})}\r\n        mapboxApiAccessToken=\"pk.eyJ1IjoicGVuam8iLCJhIjoiY2sxdTJta3A3MDVnYjNuczJueGpjMmpsdiJ9.h4n8WU8Dy0XC3I9NRF02Bw\"\r\n        // mapStyle='mapbox://styles/mapbox/satellite-streets-v9'\r\n        mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n        pitch=\"60\"\r\n        // bearing=\"90\"\r\n        width=\"100%\"\r\n        \r\n      >\r\n                {Object.keys(this.state.userLocation).length !== 0 ? (\r\n                   \r\n                <Marker\r\n                    latitude={this.state.userLocation.lat}\r\n                    longitude={this.state.userLocation.long}\r\n                >\r\n                    <div>\r\n                    <MDBIcon icon=\"map-marker-alt\" className=\"fas fa-map-marker-alt fa-3x red-text pr-3\" />\r\n                  \r\n                    </div>\r\n                </Marker>\r\n                ) : ( \r\n                <div></div>\r\n                )}\r\n        <div style={{position: 'absolute', right: 0}}>\r\n          <NavigationControl />\r\n        </div>\r\n    </ReactMapGL>\r\n\r\n    </MDBCardBody></MDBCard>\r\n    <br /> \r\n    <MDBRow >\r\n  \r\n  <MDBCol md=\"12\" className=\"mb-4\">\r\n    <MDBCard color=\"white\" text=\"black\" className=\"text-center\" style={{maxWidth:\"\"}}>\r\n      <MDBCardBody>\r\n        <Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n\r\n          <MDBRow >\r\n<MDBCol md=\"6\">\r\n          <Form.Item label={\"Shop name\"\r\n        }>{getFieldDecorator('fname', {\r\n          rules: [{ required: true, message: 'Please input the name of your shop', whitespace: true }],\r\n        })(<Input />)}\r\n        </Form.Item>\r\n\r\n</MDBCol> \r\n<MDBCol md=\"6\">   \r\n\r\n\r\n        <Form.Item \r\n        label={\r\n                <Button\r\n                type=\"primary\"\r\n                icon=\"environment\"\r\n                onClick={this.getLocation}\r\n                style={{paddingRigtht:\"22px\"}}\r\n            >\r\n                Obtain location\r\n                <br/>\r\n              </Button>\r\n            \r\n        }>{getFieldDecorator('location', {\r\n          rules: [{ required:this.state.required, message: 'Click the button to obtain the shop location', whitespace: true }],\r\n        })(<Input value=\"mysite\" style={{display:\"gone\",width:\"2px\"}}/>)}\r\n        </Form.Item>\r\n<br /> \r\n</MDBCol>  \r\n      <Form.Item\r\n      style={{marginLeft:\"auto\",marginRight:\"auto\"}}\r\n      >\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item> \r\n      </MDBRow>\r\n    </Form>\r\n    </MDBCardBody>\r\n        </MDBCard>\r\n      </MDBCol>\r\n    </MDBRow>\r\n  </MDBCardBody>\r\n </MDBCard>\r\n\r\n<br />\r\n</div>\r\n       );\r\n            }}\r\n\r\nconst Geo = Form.create({ name: 'time_related_controls' })(Geo1);\r\nexport default Geo;"]},"metadata":{},"sourceType":"module"}